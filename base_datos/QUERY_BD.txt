-------BORRAR TABLAS
DROP TABLE PERSONA;
DROP TABLE ANIMAL;
DROP TABLE SIEMBRA;
DROP TABLE PROPIEDAD;
DROP TABLE DOMICILIO;
DROP TABLE TIPO_USUARIO;
DROP TABLE COMUNA;
DROP TABLE REGION;
DROP TABLE PAIS;
DROP TABLE REPORTE;
DROP TABLE TIPO_PRODUCCION;
DROP TABLE ENFERMEDAD;
DROP TABLE CONTACTO;
DROP TABLE TIPO_PRODUCCION_ANIMAL;
DROP TABLE TIPO_ANIMAL;
DROP TABLE VACUNA;


CREATE TABLE VACUNA(

    ID_VAC_SERIE NUMBER (10) NOT NULL,
	NOMBRE_VACUNA VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(50) NOT NULL
);

ALTER TABLE VACUNA  ADD CONSTRAINT VACUNA_PK PRIMARY KEY (ID_VAC_SERIE);

CREATE TABLE TIPO_ANIMAL(

    ID_TIPO_ANIMAL NUMBER (3) NOT NULL,
	NOMBRE_TIPO_ANIMAL VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR (100)
);

ALTER TABLE TIPO_ANIMAL  ADD CONSTRAINT TIPO_ANIMAL_PK PRIMARY KEY (ID_TIPO_ANIMAL);

CREATE TABLE TIPO_PRODUCCION_ANIMAL(

    ID_TIPO_PROD_ANIMAL NUMBER (3) NOT NULL,
	TIPO_PROD_ANIMAL VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR (100)
);

ALTER TABLE TIPO_PRODUCCION_ANIMAL  ADD CONSTRAINT TIPO_PROD_ANIMAL_PK PRIMARY KEY (ID_TIPO_PROD_ANIMAL);

CREATE TABLE CONTACTO(

    ID_CONTACTO NUMBER (3) NOT NULL,
	NOMBRE VARCHAR(50) NOT NULL,
	EMAIL VARCHAR(50) NOT NULL,
	TELEFONO NUMBER(10) NOT NULL,
	DESCRIPCION VARCHAR (100)
);

ALTER TABLE CONTACTO  ADD CONSTRAINT CONTACTO_PK PRIMARY KEY (ID_CONTACTO);

CREATE TABLE ENFERMEDAD(

    ID_ENFERMEDAD NUMBER (3) NOT NULL,
	DESCRIPCION VARCHAR(100) NOT NULL,
	MEDICINA VARCHAR (50) NOT NULL,
	TRATAMIENTO VARCHAR (100) NOT NULL,
	TIEMPO_RECUPERACION DATE NOT NULL
);

ALTER TABLE ENFERMEDAD  ADD CONSTRAINT ENFERMEDAD_PK PRIMARY KEY (ID_ENFERMEDAD);

CREATE TABLE TIPO_PRODUCCION(

    ID_TIPO_PRODUCCION NUMBER (3) NOT NULL,
	TIPO_PRODUCCION VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR (100) NOT NULL
);

ALTER TABLE TIPO_PRODUCCION  ADD CONSTRAINT TIPO_PRODUCCION_PK PRIMARY KEY (ID_TIPO_PRODUCCION);

CREATE TABLE REPORTE(

    ID_REPORTE NUMBER (3) NOT NULL,
	FORMATO_REPORTE VARCHAR(50) NOT NULL,
	TIPO_REPORTE VARCHAR (100) NOT NULL,
	FECHA_REPORTE DATE NOT NULL	
);

ALTER TABLE REPORTE  ADD CONSTRAINT REPORTE_PK PRIMARY KEY (ID_REPORTE);

CREATE TABLE PAIS(

    ID_PAIS NUMBER (3) NOT NULL,
    NOMBRE_PAIS VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100)
);
ALTER TABLE PAIS  ADD CONSTRAINT PAIS_PK PRIMARY KEY (ID_PAIS);

CREATE TABLE REGION(

    ID_REGION NUMBER (3) NOT NULL,
    NOMBRE_REGION VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100),
	ID_PAIS NUMBER (3) NOT NULL
);

ALTER TABLE REGION  ADD CONSTRAINT REGION_PK PRIMARY KEY (ID_REGION);

CREATE TABLE COMUNA(

    ID_COMUNA NUMBER (3) NOT NULL,
    NOMBRE_COMUNA VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(100),
	ID_REGION NUMBER (3) NOT NULL
);

ALTER TABLE COMUNA  ADD CONSTRAINT COMUNA_PK PRIMARY KEY (ID_COMUNA);

CREATE TABLE TIPO_USUARIO(

    ID_TIPO_USUARIO NUMBER (3) NOT NULL,
	TIPO_USUARIO VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR (100) NOT NULL,
	ID_CONTACTO NUMBER (3) NOT NULL
);

ALTER TABLE TIPO_USUARIO  ADD CONSTRAINT TIPO_USUARIO_PK PRIMARY KEY (ID_TIPO_USUARIO);

CREATE TABLE DOMICILIO(

    ID_DOMICILIO NUMBER (3) NOT NULL,
	DIRECCION VARCHAR(50) NOT NULL,
	NUMERO NUMBER(10) NOT NULL,
	TIPO_DIRECCION VARCHAR (100) NOT NULL,
	ID_COMUNA NUMBER (3) NOT NULL
);

ALTER TABLE DOMICILIO  ADD CONSTRAINT DOMICILIO_PK PRIMARY KEY (ID_DOMICILIO);

CREATE TABLE PROPIEDAD(

    ID_PROPIEDAD NUMBER (3) NOT NULL,
	NOMBRE_PROPIEDAD VARCHAR(50) NOT NULL,
	CANTIDAD_HECTARIAS NUMBER (38) NOT NULL,
	ID_TIPO_PRODUCCION NUMBER (3) NOT NULL,
	ID_DOMICILIO NUMBER (3) NOT NULL
);

ALTER TABLE PROPIEDAD  ADD CONSTRAINT PROPIEDAD_PK PRIMARY KEY (ID_PROPIEDAD);

CREATE TABLE SIEMBRA(

    ID_SIEMBRA NUMBER (3) NOT NULL,
	TIPO_SIEMBRA VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR (100) NOT NULL,
	ID_REPORTE NUMBER (3) NOT NULL,
	ID_PROPIEDAD NUMBER (3) NOT NULL
);

ALTER TABLE SIEMBRA  ADD CONSTRAINT SIEMBRA_PK PRIMARY KEY (ID_SIEMBRA);

CREATE TABLE ANIMAL(

    NUMERO_SERIE NUMBER (10) NOT NULL,
	NOMBRE_ANIMAL VARCHAR(50) NOT NULL,
	PESO NUMBER (38) NOT NULL,
	ID_VAC_SERIE NUMBER (10) NOT NULL,  ---VACUNA
	ID_TIPO_ANIMAL NUMBER (3) NOT NULL,
	CRIAS VARCHAR(10) NOT NULL,
    ID_TIPO_PROD_ANIMAL NUMBER (3) NOT NULL,	
	ID_ENFERMEDAD NUMBER (3) NOT NULL,
	ID_REPORTE NUMBER (3) NOT NULL,
	ID_PROPIEDAD NUMBER (3) NOT NULL
);

ALTER TABLE ANIMAL  ADD CONSTRAINT ANIMAL_PK PRIMARY KEY (NUMERO_SERIE);

CREATE TABLE PERSONA(

    RUT  NUMBER (8) NOT NULL,
	DV_RUT VARCHAR(2) NOT NULL,
	PNOMBRE VARCHAR(10) NOT NULL,
	SNOMBRE VARCHAR(10) NOT NULL,
	PAPELLIDO VARCHAR(10) NOT NULL,
	SAPELLIDO VARCHAR(10) NOT NULL,
	FECHA_NACIMIENTO DATE NOT NULL,
	ID_TIPO_USUARIO NUMBER (3) NOT NULL,
	ID_DOMICILIO NUMBER (3) NOT NULL
);

ALTER TABLE PERSONA  ADD CONSTRAINT PERSONA_PK PRIMARY KEY (RUT);

----CREACION DE FK
    ALTER TABLE REGION
    ADD CONSTRAINT region_PAIS_fk FOREIGN KEY ( ID_PAIS )
    REFERENCES PAIS ( ID_PAIS );
    
    ALTER TABLE COMUNA
    ADD CONSTRAINT comuna_region_fk FOREIGN KEY ( ID_REGION )
    REFERENCES REGION ( ID_REGION );
	
	ALTER TABLE DOMICILIO
    ADD CONSTRAINT domicilio_comuna_fk FOREIGN KEY ( ID_COMUNA )
    REFERENCES COMUNA ( ID_COMUNA );
	
	ALTER TABLE TIPO_USUARIO
    ADD CONSTRAINT tipousuario_contacto_fk FOREIGN KEY ( ID_CONTACTO )
    REFERENCES CONTACTO ( ID_CONTACTO );
	
	ALTER TABLE PERSONA
    ADD CONSTRAINT persona_tipo_fk FOREIGN KEY ( ID_TIPO_USUARIO )
    REFERENCES TIPO_USUARIO ( ID_TIPO_USUARIO );

    ALTER TABLE PERSONA
    ADD CONSTRAINT persona_domicilio_fk FOREIGN KEY ( ID_DOMICILIO )
    REFERENCES DOMICILIO ( ID_DOMICILIO );

    ALTER TABLE PROPIEDAD
    ADD CONSTRAINT propieddad_domicilio_fk FOREIGN KEY ( ID_DOMICILIO )
    REFERENCES DOMICILIO ( ID_DOMICILIO );	
	
    ALTER TABLE PROPIEDAD
    ADD CONSTRAINT propieddad_tipoprod_fk FOREIGN KEY ( ID_TIPO_PRODUCCION )
    REFERENCES TIPO_PRODUCCION ( ID_TIPO_PRODUCCION );	
	
	ALTER TABLE ANIMAL
    ADD CONSTRAINT animal_tipoprodanim_fk FOREIGN KEY ( ID_TIPO_PROD_ANIMAL )
    REFERENCES TIPO_PRODUCCION_ANIMAL ( ID_TIPO_PROD_ANIMAL );
	
	ALTER TABLE ANIMAL
    ADD CONSTRAINT animal_tipoanim_fk FOREIGN KEY ( ID_TIPO_ANIMAL )
    REFERENCES TIPO_ANIMAL ( ID_TIPO_ANIMAL );

	ALTER TABLE ANIMAL
    ADD CONSTRAINT animal_enfermedad_fk FOREIGN KEY ( ID_ENFERMEDAD )
    REFERENCES ENFERMEDAD ( ID_ENFERMEDAD );
	
	ALTER TABLE ANIMAL
    ADD CONSTRAINT animal_vacuna_fk FOREIGN KEY ( ID_VAC_SERIE )
    REFERENCES VACUNA ( ID_VAC_SERIE );
	
	ALTER TABLE ANIMAL
    ADD CONSTRAINT animal_reporte_fk FOREIGN KEY ( ID_REPORTE )
    REFERENCES REPORTE ( ID_REPORTE );
 
	ALTER TABLE ANIMAL
    ADD CONSTRAINT animal_propiedad_fk FOREIGN KEY ( ID_PROPIEDAD )
    REFERENCES PROPIEDAD ( ID_PROPIEDAD );

	ALTER TABLE SIEMBRA
    ADD CONSTRAINT siembra_reporte_fk FOREIGN KEY ( ID_REPORTE )
    REFERENCES REPORTE ( ID_REPORTE );	
	
	ALTER TABLE SIEMBRA
    ADD CONSTRAINT siembra_propiedad_fk FOREIGN KEY ( ID_PROPIEDAD )
    REFERENCES PROPIEDAD ( ID_PROPIEDAD );		

-----POBLADO DE TABLAS

INSERT INTO PAIS (ID_PAIS, NOMBRE_PAIS, DESCRIPCION ) VALUES (1, 'CHILE','Pais destacado por la ganaderia y agricultura');

INSERT INTO REGION (ID_REGION, NOMBRE_REGION,DESCRIPCION ,ID_PAIS) VALUES (1, 'RM','region numero 13',1);

INSERT INTO COMUNA (ID_COMUNA, NOMBRE_COMUNA,DESCRIPCION ,ID_REGION) VALUES (1, 'SANTIAGO','capital de chile' ,1);

